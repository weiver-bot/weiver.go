datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
 
generator db {
  provider = "go run github.com/steebchen/prisma-client-go"
}


model User {
  id              String    @id

  Wrote           Review[]  @relation("wrote")
  Written         Review[]  @relation("written")
  Like            Review[]  @relation("like")
  Hate            Review[]  @relation("hate")

  roles           Role[]    @relation("role")
}

model Review {
  id          Int       @id @default(autoincrement())
  messageLink String?

  score       Int
  title       String
  content     String

  toId        String
  to          User      @relation("written", fields: [toId], references: [id])

  fromId      String
  from        User      @relation("wrote", fields: [fromId], references: [id])
  
  likes       User[]    @relation("like")
  hates       User[]    @relation("hate")

  TimeStamp   DateTime  @default(now())
}

model Role {
  id      String  @id
  guildId String
  
  display String

  user    User[]  @relation("role")
}
